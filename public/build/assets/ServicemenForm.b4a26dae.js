import{d as le,u as _e,D as me,o as m,c as ue,w as c,k as ve,a as d,b as r,v as pe,K as Oe,g as i,e as p,h as be,t as fe,F as ge,f as he,n as ye,i as v}from"./app.3132a195.js";import{_ as Se}from"./ActionMessage.73e00fa8.js";import{_ as ke}from"./Button.914d69d4.js";import{_ as we}from"./FormSection.cb601c36.js";import{_ as u}from"./Input.4f7714c1.js";import{_ as xe}from"./InputError.c8bfdd85.js";import{_ as l}from"./Label.34afe86d.js";import"./SectionTitle.ff08868c.js";import"./_plugin-vue_export-helper.cdc0426e.js";const je=v(" Choose Serviceman "),Ne=v(" Choose serviceman to handle this service order. "),$e={class:"col-span-6 sm:col-span-6"},Ce=["value"],Be={key:0,class:"text-sm mt-1 text-red-500"},Ve={class:"col-span-6 sm:col-span-6"},Fe={class:"col-span-6 sm:col-span-6"},De={class:"col-span-6 sm:col-span-6"},Ee={class:"col-span-6 sm:col-span-6"},Pe=v(" Saved. "),qe=v(" Save "),Ie={__name:"ServicemenForm",props:{user:Object,serviceOrder:Object},setup(ce){var b,f,g,h,y,S,k,w,x,j,N,$,C,B,V,F,D,E,P,q,z,M,K,L,T,U,A,G,H,I,J,Q,R,W,X,Y,Z,ee,re,se,oe;const e=ce,n=le(null),s=_e({id:(b=e.serviceOrder)==null?void 0:b.id,segment:(f=e.serviceOrder)==null?void 0:f.segment,operation:(g=e.serviceOrder)==null?void 0:g.operation,job_code:(h=e.serviceOrder)==null?void 0:h.job_code,component_code:(y=e.serviceOrder)==null?void 0:y.component_code,smu:(S=e.serviceOrder)==null?void 0:S.smu,warranty:(k=e.serviceOrder)==null?void 0:k.warranty,warranty_text:(w=e.serviceOrder)==null?void 0:w.warranty_text,pip_psp:(x=e.serviceOrder)==null?void 0:x.pip_psp,job_control:(j=e.serviceOrder)==null?void 0:j.job_control,business_area:(N=e.serviceOrder)==null?void 0:N.business_area,customer_name:($=e.serviceOrder)==null?void 0:$.customer_name,service_team:(C=e.serviceOrder)==null?void 0:C.service_team,group_number:(B=e.serviceOrder)==null?void 0:B.group_number,customer_no:(V=e.serviceOrder)==null?void 0:V.customer_no,make:(F=e.serviceOrder)==null?void 0:F.make,model:(D=e.serviceOrder)==null?void 0:D.model,serial_number:(E=e.serviceOrder)==null?void 0:E.serial_number,arrg_no:(P=e.serviceOrder)==null?void 0:P.arrg_no,std_hours:(q=e.serviceOrder)==null?void 0:q.std_hours,job_description:(z=e.serviceOrder)==null?void 0:z.job_description,labor_hours:(M=e.serviceOrder)==null?void 0:M.labor_hours,date_sent:(K=e.serviceOrder)==null?void 0:K.date_sent,date_required:(L=e.serviceOrder)==null?void 0:L.date_required,date_returned:(T=e.serviceOrder)==null?void 0:T.date_returned,date_received_back:(U=e.serviceOrder)==null?void 0:U.date_received_back,date_segment_closed:(A=e.serviceOrder)==null?void 0:A.date_segment_closed,receive_by:(G=e.serviceOrder)==null?void 0:G.receive_by,surplus_part_returned:(H=e.serviceOrder)==null?void 0:H.surplus_part_returned,sims_completed:(I=e.serviceOrder)==null?void 0:I.sims_completed,note:(J=e.serviceOrder)==null?void 0:J.note,deliver_to:(Q=e.serviceOrder)==null?void 0:Q.deliver_to,return_to:(R=e.serviceOrder)==null?void 0:R.return_to,signed_1:(W=e.serviceOrder)==null?void 0:W.signed_1,signed_2:(X=e.serviceOrder)==null?void 0:X.signed_2,status:(Y=e.serviceOrder)==null?void 0:Y.status,progress_percentage:(Z=e.serviceOrder)==null?void 0:Z.progress_percentage,customer_id:(ee=e.serviceOrder)==null?void 0:ee.customer_id,supervisor_id:(re=e.serviceOrder)==null?void 0:re.supervisor_id,foreman_id:(se=e.serviceOrder)==null?void 0:se.foreman_id,serviceman_id:(oe=e.serviceOrder)==null?void 0:oe.serviceman_id,assign_serviceman:!0}),de=()=>{s.put(route("service-orders.update",e.serviceOrder.id),{preserveScroll:!0,preserveState:!0})},ne=o=>O(o.target.value),O=o=>{const t=ve().props.value.servicemen.find(_=>_.id==o);n.value=t};return me(()=>{var o;O((o=e.serviceOrder)==null?void 0:o.serviceman_id)}),(o,t)=>(m(),ue(we,{onSubmitted:de},{title:c(()=>[je]),description:c(()=>[Ne]),form:c(()=>{var _,ae,ie,te;return[d("div",$e,[r(l,{for:"serviceman_id",value:"Serviceman Name"}),pe(d("select",{onChange:t[0]||(t[0]=a=>ne(a)),"onUpdate:modelValue":t[1]||(t[1]=a=>i(s).serviceman_id=a),id:"superior_id",class:"border-gray-300 mt-1 block w-full focus:border-yellow-300 focus:ring focus:ring-yellow-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(m(!0),p(ge,null,be(o.$page.props.servicemen,a=>(m(),p("option",{key:a.id,value:a.id},fe(a.name),9,Ce))),128))],544),[[Oe,i(s).serviceman_id]]),Object.keys(i(s).errors).length>0?(m(),p("p",Be,"Save the Edit Service Order form first.")):he("",!0),r(xe,{message:i(s).errors.serviceman_id,class:"mt-2"},null,8,["message"])]),d("div",Ve,[r(l,{for:"salary_number",value:"Salary Number"}),r(u,{id:"salary_number",value:(_=n.value)==null?void 0:_.salary_number,disabled:"",type:"text",class:"mt-1 block w-full bg-gray-100"},null,8,["value"])]),d("div",Fe,[r(l,{for:"position",value:"Position"}),r(u,{id:"position",value:(ae=n.value)==null?void 0:ae.position,disabled:"",type:"text",class:"mt-1 block w-full bg-gray-100 capitalize"},null,8,["value"])]),d("div",De,[r(l,{for:"phone",value:"Phone Number"}),r(u,{id:"phone",value:(ie=n.value)==null?void 0:ie.phone,disabled:"",type:"text",class:"mt-1 block w-full bg-gray-100"},null,8,["value"])]),d("div",Ee,[r(l,{for:"email",value:"Email"}),r(u,{id:"email",value:(te=n.value)==null?void 0:te.email,disabled:"",type:"text",class:"mt-1 block w-full bg-gray-100"},null,8,["value"])])]}),actions:c(()=>[r(Se,{on:i(s).recentlySuccessful,class:"mr-3"},{default:c(()=>[Pe]),_:1},8,["on"]),r(ke,{class:ye({"opacity-25":i(s).processing}),disabled:i(s).processing},{default:c(()=>[qe]),_:1},8,["class","disabled"])]),_:1}))}};export{Ie as default};
