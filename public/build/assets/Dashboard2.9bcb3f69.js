import{d as b,o as t,e as s,a as r,b as u,w as n,g as k,F as c,h as p,L as w,t as a,G as v,n as h,i as x}from"./app.f171c1d5.js";import{a as m}from"./DialogModal.e3161df7.js";import{_ as D}from"./SecondaryButton.36940c3a.js";const C={class:"p-4 w-full bg-white rounded-lg border shadow-xl sm:p-8"},S={class:"flex justify-between items-center mb-4"},$=r("h5",{class:"text-xl font-semibold leading-none text-gray-900 dark:text-white"},"Currently Progressing",-1),L=x(" View all "),V={class:"flow-root"},B={role:"list",class:"divide-y divide-gray-200 dark:divide-gray-700"},F={class:"flex items-center space-x-4"},M={class:"flex-1 min-w-0"},N=["onClick"],z={class:"w-full bg-gray-200 h-4 mt-2 rounded-full dark:bg-gray-700"},A=x(" Work Progress "),I={key:0,class:"relative border-l border-gray-200 dark:border-gray-700"},P=r("div",{class:"absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"},null,-1),j={class:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},E={class:"text-lg font-semibold text-gray-900 dark:text-white"},G={class:"text-base font-normal text-gray-500 dark:text-gray-400"},O={key:1,class:"relative border-l border-gray-200 dark:border-gray-700"},T=r("div",{class:"absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"},null,-1),W={class:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},q={class:"text-lg font-semibold text-gray-900 dark:text-white"},H={class:"text-base font-normal text-gray-500 dark:text-gray-400"},J=x(" Close "),Y={__name:"Dashboard2",setup(K){const g=b({}),_=b(!1),f=d=>{_.value=!0,g.value=d},i=()=>_.value=!1;return(d,Q)=>(t(),s(c,null,[r("div",C,[r("div",S,[$,u(k(w),{href:d.route("service-orders.index",{status:"in_progress"}),class:"text-sm font-medium text-yellow-600 hover:underline dark:text-yellow-500"},{default:n(()=>[L]),_:1},8,["href"])]),r("div",V,[r("ul",B,[(t(!0),s(c,null,p(d.$page.props.service_order.in_progress,o=>(t(),s("li",{class:"py-3 sm:py-4",key:o.id},[r("div",F,[r("div",M,[r("p",{class:"text-sm font-medium cursor-pointer text-yellow-600 truncate dark:text-white",onClick:y=>f(o)},a(o.service_order_no),9,N),r("div",z,[r("div",{class:"bg-orange-500 text-xs h-4 font-medium text-orange-100 text-center p-0.5 leading-none rounded-full",style:v({width:`${o.progress_percentage}%`})},a(o.progress_percentage)+"%",5)])])])]))),128))])])]),u(m,{show:_.value,onClose:i},{title:n(()=>[A]),content:n(()=>{var o,y;return[r("div",null,[["customer","sales_support"].includes(d.$page.props.user.role)?(t(),s("ol",I,[(t(!0),s(c,null,p((o=g.value)==null?void 0:o.control_card_accepted,e=>{var l;return t(),s("li",{class:"mb-10 ml-4",key:e.id},[P,r("time",j,a(new Date(e.created_at).toLocaleString("id-ID")),1),r("h3",E,a(e==null?void 0:e.special_note),1),r("p",G,a((l=e==null?void 0:e.reporter)==null?void 0:l.name),1)])}),128))])):(t(),s("ol",O,[(t(!0),s(c,null,p((y=g.value)==null?void 0:y.control_card,e=>{var l;return t(),s("li",{class:"mb-10 ml-4",key:e.id},[T,r("time",W,a(new Date(e.created_at).toLocaleString("id-ID")),1),r("h3",q,a(e==null?void 0:e.special_note),1),r("p",H,a((l=e==null?void 0:e.reporter)==null?void 0:l.name),1),r("p",null,[r("span",{class:h(["bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-gray-200 dark:text-gray-900",{"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900":e==null?void 0:e.is_approved}])},"Approved by Foreman",2),r("span",{class:h(["bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-gray-200 dark:text-gray-900",{"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900":e==null?void 0:e.is_accepted}])},"Approved by Supervisor",2)])])}),128))]))])]}),footer:n(()=>[u(D,{onClick:i},{default:n(()=>[J]),_:1})]),_:1},8,["show"])],64))}};export{Y as default};
