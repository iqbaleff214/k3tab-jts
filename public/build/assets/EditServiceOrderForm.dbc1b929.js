import{d as ue,u as _e,D as pe,k as ve,o as u,c as ge,w as _,a as r,b as l,g as s,e as v,f as be,v as fe,K as Ve,F as ye,h as ke,t as we,n as ne,i as g}from"./app.ea35995a.js";import{_ as xe}from"./ActionMessage.c4bf83a7.js";import{_ as Oe}from"./Button.7664f22f.js";import{_ as Ue}from"./FormSection.1e947bd3.js";import{_ as m}from"./Input.735bef14.js";import{_ as p}from"./Checkbox.454ed5b4.js";import{_ as d}from"./InputError.d438de51.js";import{_ as n}from"./Label.8d3a12f9.js";import"./SectionTitle.651b9cd6.js";import"./_plugin-vue_export-helper.cdc0426e.js";const ze=g(" Edit Service Order "),je=g(" Edit your service order data. "),Se={class:"col-span-6 sm:col-span-4"},he={class:"col-span-6 sm:col-span-4"},Ce={class:"col-span-6 sm:col-span-4"},Ne={class:"col-span-6 sm:col-span-4"},qe={class:"col-span-6 sm:col-span-4"},$e={class:"col-span-6 sm:col-span-4"},Pe={class:"col-span-6 sm:col-span-4"},Be={class:"col-span-6 sm:col-span-4"},Fe={class:"flex items-center"},De=r("span",{class:"ml-2 text-sm text-gray-600"},"Warranty?",-1),Ee={key:0,class:"col-span-6 sm:col-span-4"},Me={class:"col-span-6 sm:col-span-4"},Ie={class:"col-span-6 sm:col-span-4"},Re={class:"col-span-6 sm:col-span-4"},Ae={class:"col-span-6 sm:col-span-4"},Ge={class:"flex items-center"},He=r("span",{class:"ml-2 text-sm text-gray-600"},"New Customer?",-1),Je={key:1,class:"col-span-6 sm:col-span-4"},Le={key:2,class:"col-span-6 sm:col-span-4"},Te=["value"],We={class:"col-span-6 sm:col-span-4"},Ke={class:"col-span-6 sm:col-span-4"},Qe={class:"col-span-6 sm:col-span-4"},Xe={class:"col-span-6 sm:col-span-4"},Ye={class:"col-span-6 sm:col-span-4"},Ze={class:"col-span-6 sm:col-span-4"},es={class:"col-span-6 sm:col-span-4"},ss={class:"col-span-6 sm:col-span-4"},ls={class:"col-span-6 sm:col-span-4"},os={class:"col-span-6 sm:col-span-4"},as={class:"col-span-6 sm:col-span-4"},rs={class:"col-span-6 sm:col-span-4"},ts={class:"col-span-6 sm:col-span-4"},ds={class:"col-span-6 sm:col-span-4"},ns={class:"col-span-6 sm:col-span-4"},ms={class:"col-span-6 sm:col-span-4"},cs={class:"col-span-6 sm:col-span-4"},is={class:"flex items-center"},us=r("span",{class:"ml-2 text-sm text-gray-600"},"Surplus Part Returned?",-1),_s={class:"col-span-6 sm:col-span-4"},ps={class:"flex items-center"},vs=r("span",{class:"ml-2 text-sm text-gray-600"},"SIMS Completed?",-1),gs={class:"col-span-6 sm:col-span-4"},bs={class:"col-span-6 sm:col-span-4"},fs={class:"col-span-6 sm:col-span-4"},Vs={class:"col-span-6 sm:col-span-4"},ys={class:"flex items-center"},ks=r("span",{class:"ml-2 text-sm text-gray-600"},"Signed?",-1),ws={class:"col-span-6 sm:col-span-4"},xs={class:"flex items-center"},Os=r("span",{class:"ml-2 text-sm text-gray-600"},"Signed?",-1),Us=g(" Saved. "),zs=g(" Save "),Ds={__name:"EditServiceOrderForm",props:{serviceOrder:Object},setup(me){var b,f,V,y,k,w,x,O,U,z,j,S,h,C,N,q,$,P,B,F,D,E,M,I,R,A,G,H,J,L,T,W,K,Q,X,Y,Z,ee,se,le,oe,ae;const t=me,i=ue(null),e=_e({id:(b=t.serviceOrder)==null?void 0:b.id,segment:(f=t.serviceOrder)==null?void 0:f.segment,operation:(V=t.serviceOrder)==null?void 0:V.operation,job_code:(y=t.serviceOrder)==null?void 0:y.job_code,component_code:(k=t.serviceOrder)==null?void 0:k.component_code,smu:(w=t.serviceOrder)==null?void 0:w.smu,warranty:(x=t.serviceOrder)==null?void 0:x.warranty,warranty_text:(O=t.serviceOrder)==null?void 0:O.warranty_text,pip_psp:(U=t.serviceOrder)==null?void 0:U.pip_psp,job_control:(z=t.serviceOrder)==null?void 0:z.job_control,business_area:(j=t.serviceOrder)==null?void 0:j.business_area,customer_name:(S=t.serviceOrder)==null?void 0:S.customer_name,service_team:(h=t.serviceOrder)==null?void 0:h.service_team,group_number:(C=t.serviceOrder)==null?void 0:C.group_number,customer_no:(N=t.serviceOrder)==null?void 0:N.customer_no,make:(q=t.serviceOrder)==null?void 0:q.make,model:($=t.serviceOrder)==null?void 0:$.model,serial_number:(P=t.serviceOrder)==null?void 0:P.serial_number,arrg_no:(B=t.serviceOrder)==null?void 0:B.arrg_no,std_hours:(F=t.serviceOrder)==null?void 0:F.std_hours,job_description:(D=t.serviceOrder)==null?void 0:D.job_description,labor_hours:(E=t.serviceOrder)==null?void 0:E.labor_hours,date_sent:(M=t.serviceOrder)==null?void 0:M.date_sent,date_required:(I=t.serviceOrder)==null?void 0:I.date_required,date_returned:(R=t.serviceOrder)==null?void 0:R.date_returned,date_received_back:(A=t.serviceOrder)==null?void 0:A.date_received_back,date_segment_closed:(G=t.serviceOrder)==null?void 0:G.date_segment_closed,receive_by:(H=t.serviceOrder)==null?void 0:H.receive_by,surplus_part_returned:(J=t.serviceOrder)==null?void 0:J.surplus_part_returned,sims_completed:(L=t.serviceOrder)==null?void 0:L.sims_completed,note:(T=t.serviceOrder)==null?void 0:T.note,deliver_to:(W=t.serviceOrder)==null?void 0:W.deliver_to,return_to:(K=t.serviceOrder)==null?void 0:K.return_to,signed_1:(Q=t.serviceOrder)==null?void 0:Q.signed_1,signed_2:(X=t.serviceOrder)==null?void 0:X.signed_2,status:(Y=t.serviceOrder)==null?void 0:Y.status,progress_percentage:(Z=t.serviceOrder)==null?void 0:Z.progress_percentage,customer_id:(ee=t.serviceOrder)==null?void 0:ee.customer_id,supervisor_id:(se=t.serviceOrder)==null?void 0:se.supervisor_id,foreman_id:(le=t.serviceOrder)==null?void 0:le.foreman_id,serviceman_id:(oe=t.serviceOrder)==null?void 0:oe.serviceman_id,new_customer:((ae=t.serviceOrder)==null?void 0:ae.customer_id)==null}),ce=()=>{e.transform(c=>{var o;return{...c,customer_id:c.new_customer?null:(o=i.value)==null?void 0:o.id}}).put(route("service-orders.update",t.serviceOrder.id),{preserveState:!0,preserveScroll:!0})},ie=()=>{var c,o;e.customer_no=(c=i.value)==null?void 0:c.salary_number,e.customer_name=(o=i.value)==null?void 0:o.name};return pe(()=>{const c=ve().props.value.customers;i.value=c.find(o=>o.id==e.customer_id)}),(c,o)=>(u(),ge(Ue,{onSubmitted:ce},{title:_(()=>[ze]),description:_(()=>[je]),form:_(()=>{var re,te,de;return[r("div",Se,[l(n,{for:"id",value:"Service Order Number"}),l(m,{id:"id",value:(re=t.serviceOrder)==null?void 0:re.service_order_no,type:"text",class:"mt-1 block w-full bg-gray-100",disabled:""},null,8,["value"]),l(d,{message:s(e).errors.id,class:"mt-2"},null,8,["message"])]),r("div",he,[l(n,{for:"foreman_id",value:"Foreman PIC*"}),l(m,{id:"foreman_id",value:(de=(te=t.serviceOrder)==null?void 0:te.foreman)==null?void 0:de.name,type:"text",class:"mt-1 block w-full bg-gray-100",disabled:""},null,8,["value"]),l(d,{message:s(e).errors.foreman_id,class:"mt-2"},null,8,["message"])]),r("div",Ce,[l(n,{for:"segment",value:"Segment*"}),l(m,{id:"segment",modelValue:s(e).segment,"onUpdate:modelValue":o[0]||(o[0]=a=>s(e).segment=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.segment,class:"mt-2"},null,8,["message"])]),r("div",Ne,[l(n,{for:"operation",value:"operation",class:"capitalize"}),l(m,{id:"operation",modelValue:s(e).operation,"onUpdate:modelValue":o[1]||(o[1]=a=>s(e).operation=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.operation,class:"mt-2"},null,8,["message"])]),r("div",qe,[l(n,{for:"job_code",value:"job code*",class:"capitalize"}),l(m,{id:"job_code",modelValue:s(e).job_code,"onUpdate:modelValue":o[2]||(o[2]=a=>s(e).job_code=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.job_code,class:"mt-2"},null,8,["message"])]),r("div",$e,[l(n,{for:"component_code",value:"component code",class:"capitalize"}),l(m,{id:"component_code",modelValue:s(e).component_code,"onUpdate:modelValue":o[3]||(o[3]=a=>s(e).component_code=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.component_code,class:"mt-2"},null,8,["message"])]),r("div",Pe,[l(n,{for:"smu",value:"SMU",class:"capitalize"}),l(m,{id:"smu",modelValue:s(e).smu,"onUpdate:modelValue":o[4]||(o[4]=a=>s(e).smu=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.smu,class:"mt-2"},null,8,["message"])]),r("div",Be,[r("label",Fe,[l(p,{checked:s(e).warranty,"onUpdate:checked":o[5]||(o[5]=a=>s(e).warranty=a),name:"warranty"},null,8,["checked"]),De]),l(d,{message:s(e).errors.warranty,class:"mt-2"},null,8,["message"])]),s(e).warranty?(u(),v("div",Ee,[l(n,{for:"warranty_text",value:"Warranty"}),l(m,{id:"warranty_text",modelValue:s(e).warranty_text,"onUpdate:modelValue":o[6]||(o[6]=a=>s(e).warranty_text=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.warranty_text,class:"mt-2"},null,8,["message"])])):be("",!0),r("div",Me,[l(n,{for:"pip_psp",value:"PIP/PSP",class:"capitalize"}),l(m,{id:"pip_psp",modelValue:s(e).pip_psp,"onUpdate:modelValue":o[7]||(o[7]=a=>s(e).pip_psp=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.pip_psp,class:"mt-2"},null,8,["message"])]),r("div",Ie,[l(n,{for:"job_control",value:"Job Control",class:"capitalize"}),l(m,{id:"job_control",modelValue:s(e).job_control,"onUpdate:modelValue":o[8]||(o[8]=a=>s(e).job_control=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.job_control,class:"mt-2"},null,8,["message"])]),r("div",Re,[l(n,{for:"business_area",value:"Business Area",class:"capitalize"}),l(m,{id:"business_area",modelValue:s(e).business_area,"onUpdate:modelValue":o[9]||(o[9]=a=>s(e).business_area=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.business_area,class:"mt-2"},null,8,["message"])]),r("div",Ae,[r("label",Ge,[l(p,{checked:s(e).new_customer,"onUpdate:checked":o[10]||(o[10]=a=>s(e).new_customer=a)},null,8,["checked"]),He])]),s(e).new_customer?(u(),v("div",Je,[l(n,{for:"customer_no",value:"Customer No*"}),l(m,{id:"customer_no",modelValue:s(e).customer_no,"onUpdate:modelValue":o[11]||(o[11]=a=>s(e).customer_no=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.customer_no,class:"mt-2"},null,8,["message"])])):(u(),v("div",Le,[l(n,{for:"customer_no",value:"Customer No*",class:"capitalize"}),fe(r("select",{"onUpdate:modelValue":o[12]||(o[12]=a=>i.value=a),onChange:ie,id:"customer_no",class:"border-gray-300 mt-1 block w-full focus:border-yellow-300 focus:ring focus:ring-yellow-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(u(!0),v(ye,null,ke(c.$page.props.customers,a=>(u(),v("option",{key:a.id,value:a},we(a.name+" - "+a.salary_number),9,Te))),128))],544),[[Ve,i.value]]),l(d,{message:s(e).errors.customer_no,class:"mt-2"},null,8,["message"])])),r("div",We,[l(n,{for:"customer_name",value:"Customer Name*",class:"capitalize"}),l(m,{id:"customer_name",modelValue:s(e).customer_name,"onUpdate:modelValue":o[13]||(o[13]=a=>s(e).customer_name=a),type:"text",readonly:!s(e).new_customer,class:ne([{"bg-gray-100":!s(e).new_customer},"mt-1 block w-full"])},null,8,["modelValue","readonly","class"]),l(d,{message:s(e).errors.customer_name,class:"mt-2"},null,8,["message"])]),r("div",Ke,[l(n,{for:"service_team",value:"Service Team*",class:"capitalize"}),l(m,{id:"service_team",modelValue:s(e).service_team,"onUpdate:modelValue":o[14]||(o[14]=a=>s(e).service_team=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.service_team,class:"mt-2"},null,8,["message"])]),r("div",Qe,[l(n,{for:"group_number",value:"Group Number",class:"capitalize"}),l(m,{id:"group_number",modelValue:s(e).group_number,"onUpdate:modelValue":o[15]||(o[15]=a=>s(e).group_number=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.group_number,class:"mt-2"},null,8,["message"])]),r("div",Xe,[l(n,{for:"make",value:"make",class:"capitalize"}),l(m,{id:"make",modelValue:s(e).make,"onUpdate:modelValue":o[16]||(o[16]=a=>s(e).make=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.make,class:"mt-2"},null,8,["message"])]),r("div",Ye,[l(n,{for:"model",value:"model",class:"capitalize"}),l(m,{id:"model",modelValue:s(e).model,"onUpdate:modelValue":o[17]||(o[17]=a=>s(e).model=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.model,class:"mt-2"},null,8,["message"])]),r("div",Ze,[l(n,{for:"serial_number",value:"serial number",class:"capitalize"}),l(m,{id:"serial_number",modelValue:s(e).serial_number,"onUpdate:modelValue":o[18]||(o[18]=a=>s(e).serial_number=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.serial_number,class:"mt-2"},null,8,["message"])]),r("div",es,[l(n,{for:"arrg_no",value:"ARRG. No",class:"capitalize"}),l(m,{id:"arrg_no",modelValue:s(e).arrg_no,"onUpdate:modelValue":o[19]||(o[19]=a=>s(e).arrg_no=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.arrg_no,class:"mt-2"},null,8,["message"])]),r("div",ss,[l(n,{for:"std_hours",value:"Std. Hours",class:"capitalize"}),l(m,{id:"std_hours",modelValue:s(e).std_hours,"onUpdate:modelValue":o[20]||(o[20]=a=>s(e).std_hours=a),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.std_hours,class:"mt-2"},null,8,["message"])]),r("div",ls,[l(n,{for:"job_description",value:"Job Description*",class:"capitalize"}),l(m,{id:"job_description",modelValue:s(e).job_description,"onUpdate:modelValue":o[21]||(o[21]=a=>s(e).job_description=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.job_description,class:"mt-2"},null,8,["message"])]),r("div",os,[l(n,{for:"labor_hours",value:"Labor Hours",class:"capitalize"}),l(m,{id:"labor_hours",modelValue:s(e).labor_hours,"onUpdate:modelValue":o[22]||(o[22]=a=>s(e).labor_hours=a),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.labor_hours,class:"mt-2"},null,8,["message"])]),r("div",as,[l(n,{for:"date_sent",value:"date sent",class:"capitalize"}),l(m,{id:"date_sent",modelValue:s(e).date_sent,"onUpdate:modelValue":o[23]||(o[23]=a=>s(e).date_sent=a),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.date_sent,class:"mt-2"},null,8,["message"])]),r("div",rs,[l(n,{for:"date_required",value:"date required",class:"capitalize"}),l(m,{id:"date_required",modelValue:s(e).date_required,"onUpdate:modelValue":o[24]||(o[24]=a=>s(e).date_required=a),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.date_required,class:"mt-2"},null,8,["message"])]),r("div",ts,[l(n,{for:"date_returned",value:"date returned",class:"capitalize"}),l(m,{id:"date_returned",modelValue:s(e).date_returned,"onUpdate:modelValue":o[25]||(o[25]=a=>s(e).date_returned=a),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.date_returned,class:"mt-2"},null,8,["message"])]),r("div",ds,[l(n,{for:"date_received_back",value:"date received back",class:"capitalize"}),l(m,{id:"date_received_back",modelValue:s(e).date_received_back,"onUpdate:modelValue":o[26]||(o[26]=a=>s(e).date_received_back=a),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.date_received_back,class:"mt-2"},null,8,["message"])]),r("div",ns,[l(n,{for:"date_segment_closed",value:"date segment closed",class:"capitalize"}),l(m,{id:"date_segment_closed",modelValue:s(e).date_segment_closed,"onUpdate:modelValue":o[27]||(o[27]=a=>s(e).date_segment_closed=a),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.date_segment_closed,class:"mt-2"},null,8,["message"])]),r("div",ms,[l(n,{for:"receive_by",value:"receive by",class:"capitalize"}),l(m,{id:"receive_by",modelValue:s(e).receive_by,"onUpdate:modelValue":o[28]||(o[28]=a=>s(e).receive_by=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.receive_by,class:"mt-2"},null,8,["message"])]),r("div",cs,[r("label",is,[l(p,{checked:s(e).surplus_part_returned,"onUpdate:checked":o[29]||(o[29]=a=>s(e).surplus_part_returned=a),name:"surplus_part_returned"},null,8,["checked"]),us]),l(d,{message:s(e).errors.surplus_part_returned,class:"mt-2"},null,8,["message"])]),r("div",_s,[r("label",ps,[l(p,{checked:s(e).sims_completed,"onUpdate:checked":o[30]||(o[30]=a=>s(e).sims_completed=a),name:"sims_completed"},null,8,["checked"]),vs]),l(d,{message:s(e).errors.sims_completed,class:"mt-2"},null,8,["message"])]),r("div",gs,[l(n,{for:"note",value:"note",class:"capitalize"}),l(m,{id:"note",modelValue:s(e).note,"onUpdate:modelValue":o[31]||(o[31]=a=>s(e).note=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.note,class:"mt-2"},null,8,["message"])]),r("div",bs,[l(n,{for:"deliver_to",value:"deliver to",class:"capitalize"}),l(m,{id:"deliver_to",modelValue:s(e).deliver_to,"onUpdate:modelValue":o[32]||(o[32]=a=>s(e).deliver_to=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.deliver_to,class:"mt-2"},null,8,["message"])]),r("div",fs,[l(n,{for:"return_to",value:"return to",class:"capitalize"}),l(m,{id:"return_to",modelValue:s(e).return_to,"onUpdate:modelValue":o[33]||(o[33]=a=>s(e).return_to=a),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(d,{message:s(e).errors.return_to,class:"mt-2"},null,8,["message"])]),r("div",Vs,[r("label",ys,[l(p,{checked:s(e).signed_1,"onUpdate:checked":o[34]||(o[34]=a=>s(e).signed_1=a),name:"signed_1"},null,8,["checked"]),ks]),l(d,{message:s(e).errors.signed_1,class:"mt-2"},null,8,["message"])]),r("div",ws,[r("label",xs,[l(p,{checked:s(e).signed_2,"onUpdate:checked":o[35]||(o[35]=a=>s(e).signed_2=a),name:"signed_2"},null,8,["checked"]),Os]),l(d,{message:s(e).errors.signed_2,class:"mt-2"},null,8,["message"])])]}),actions:_(()=>[l(xe,{on:s(e).recentlySuccessful,class:"mr-3"},{default:_(()=>[Us]),_:1},8,["on"]),l(Oe,{class:ne({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:_(()=>[zs]),_:1},8,["class","disabled"])]),_:1}))}};export{Ds as default};
