import{o,e as r,a as e,r as v,f as k,F as y,h as $,t as h,d as w,J as I,v as z,K as P,m as E,b as n,w as a,g as f,L as m,c as V,n as F,i as d,j as O,y as A,B as J}from"./app.00e0a79b.js";import{_ as K}from"./AppLayout.8b7548a1.js";import{_ as R}from"./Breadcrumb.3524676c.js";import{_ as Y}from"./Button.c4a079b0.js";import{_ as D}from"./SecondaryButton.bb8d0b0f.js";import{_ as q}from"./DangerButton.2f6db9d5.js";import{a as G}from"./DialogModal.84306111.js";import"./_plugin-vue_export-helper.cdc0426e.js";const H={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Q={class:"p-4"},W={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},X={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},Z={key:0,scope:"col",class:"p-4"},ee={class:"flex items-center"},te=["checked"],se=e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox",-1),ae={key:1,scope:"col",class:"px-6 py-3"},oe=e("span",{class:"sr-only"},"Edit",-1),le=[oe],re={class:"p-4"},ne={__name:"Table",props:{checkbox:{type:Boolean,default:!1},action:{type:Boolean,default:!1},columns:Array,checkboxState:{type:Boolean,default:!1}},setup(t){return(i,l)=>(o(),r("div",H,[e("div",Q,[v(i.$slots,"header")]),e("table",W,[e("thead",X,[e("tr",null,[t.checkbox?(o(),r("th",Z,[e("div",ee,[e("input",{onChange:l[0]||(l[0]=s=>i.$emit("selectAllToggle",s.target.checked)),id:"checkbox-all-search",type:"checkbox",checked:t.checkboxState,class:"w-4 h-4 text-yellow-600 bg-gray-100 border-gray-300 rounded focus:ring-yellow-500 dark:focus:ring-yellow-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,te),se])])):k("",!0),(o(!0),r(y,null,$(t.columns,s=>(o(),r("th",{scope:"col",class:"px-6 py-3",key:s},h(s),1))),128)),t.action?(o(),r("th",ae,le)):k("",!0)])]),e("tbody",null,[v(i.$slots,"tbody")])]),e("div",re,[v(i.$slots,"footer")])]))}},ce=["onSubmit"],de=e("label",{for:"table-search",class:"sr-only"},"Search",-1),ie={class:"relative mt-1"},he=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),ue=["placeholder"],_e={__name:"TableSearch",props:{placeholder:{type:String,default:"Search..."},search:String},emits:["search"],setup(t,{emit:i}){const l=t,s=w(null),u=()=>{i("search",s.value)};return I(()=>{s.value=l.search}),(S,_)=>(o(),r("form",{method:"post",onSubmit:E(u,["prevent"])},[de,e("div",ie,[he,z(e("input",{type:"text",id:"table-search","onUpdate:modelValue":_[0]||(_[0]=p=>s.value=p),onInput:u,autocomplete:"off",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-yellow-500 focus:border-yellow-500 block w-min-50 mr-4 pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-yellow-500 dark:focus:border-yellow-500",placeholder:t.placeholder},null,40,ue),[[P,s.value]])])],40,ce))}},ge={class:"flex-1 flex justify-between sm:hidden"},fe=d(" Previous "),me=d(" Next "),xe={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ye=e("div",null,null,-1),pe={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},be={key:0},ve=e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),ke=[ve],we={key:1},$e=e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),Se=[$e],Ce=["textContent"],Me={__name:"Pagination",props:{links:Object,next:{type:String,default:""},prev:{type:String,default:""}},setup(t){return(i,l)=>(o(),r(y,null,[e("div",ge,[n(f(m),{href:t.prev,disabled:!t.prev,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:a(()=>[fe]),_:1},8,["href","disabled"]),n(f(m),{href:t.next,disabled:!t.next,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:a(()=>[me]),_:1},8,["href","disabled"])]),e("div",xe,[ye,e("div",null,[e("nav",pe,[(o(!0),r(y,null,$(t.links,(s,u)=>(o(),V(f(m),{key:s,href:s.url,disable:s.url,class:F([{"z-10 bg-orange-50 border-secondary text-primary":s.active,"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":!s.active},"relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},{default:a(()=>[u==0?(o(),r("span",be,ke)):u==t.links.length-1?(o(),r("span",we,Se)):(o(),r("span",{key:2,textContent:h(s.label)},null,8,Ce))]),_:2},1032,["href","disable","class"]))),128))])])])],64))}},Be=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," User Management ",-1),Ae={class:"py-12"},De={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ze={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Ve={class:"flex items-center justify-between"},je={class:"flex flex-row space-x-2"},Ne=d("Create"),Te=d("Delete"),Le={class:"w-4 p-4"},Ue={class:"flex items-center"},Ie=["id","value"],Pe=["for"],Ee={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},Fe=["textContent"],Oe={class:"px-6 py-4"},Je={class:"px-6 py-4 capitalize"},Ke={class:"px-6 py-4 font-medium text-gray-900 dark:text-white"},Re=["textContent"],Ye={class:"px-6 py-4 text-right"},qe=d(" Edit "),Ge=d(" Delete Account "),He=d(" Cancel "),Qe=d(" Delete Accounts "),lt={__name:"Index",props:{data:Object,search:String},setup(t){const i=t,l=w([]),s=O(()=>l.value.length==i.data.data.length),u=()=>l.value.length=0,S=g=>{g?l.value=i.data.data.map(x=>x.id):u()},_=w(!1),p=()=>_.value=!0,b=()=>_.value=!1,j=["Name","Phone","Role","Direct Superior"],N=[{label:"User Management",url:null}],T=g=>{A.Inertia.get(route("users.index"),{search:g},{preserveState:!0,preserveScroll:!0})},L=()=>{A.Inertia.delete(route("users.destroy-bulk",l.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{b(),u()}})};return(g,x)=>(o(),V(K,{title:"User Management"},{header:a(()=>[Be,n(R,{links:N})]),default:a(()=>[e("div",Ae,[e("div",De,[e("div",ze,[n(ne,{columns:j,checkbox:!0,action:!0,onSelectAllToggle:S,checkboxState:f(s)},{header:a(()=>[e("div",Ve,[n(_e,{placeholder:"Find by name or salary number",search:t.search,onSearch:T},null,8,["search"]),e("div",je,[n(f(m),{href:g.route("users.create")},{default:a(()=>[n(Y,null,{default:a(()=>[Ne]),_:1})]),_:1},8,["href"]),n(D,{disabled:l.value.length==0,onClick:p},{default:a(()=>[Te]),_:1},8,["disabled"])])])]),tbody:a(()=>[(o(!0),r(y,null,$(t.data.data,c=>{var C,M,B;return o(),r("tr",{key:c,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[e("td",Le,[e("div",Ue,[z(e("input",{id:`checkbox-table-${c.id}`,value:c.id,"onUpdate:modelValue":x[0]||(x[0]=U=>l.value=U),type:"checkbox",class:"w-4 h-4 text-yellow-600 bg-gray-100 border-gray-300 rounded focus:ring-yellow-500 dark:focus:ring-yellow-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,Ie),[[J,l.value]]),e("label",{for:`checkbox-table-${c.id}`,class:"sr-only"},"checkbox",8,Pe)])]),e("th",Ee,[d(h(c.name)+" ",1),e("span",{class:"text-xs block text-gray-500",textContent:h(c.salary_number)},null,8,Fe)]),e("td",Oe,h((C=c.phone)!=null?C:"-"),1),e("td",Je,h(c.role),1),e("td",Ke,[d(h((B=(M=c.superior)==null?void 0:M.name)!=null?B:"-")+" ",1),c.superior?(o(),r("span",{key:0,class:"text-xs block text-gray-500",textContent:h(c.salary_number)},null,8,Re)):k("",!0)]),e("td",Ye,[n(f(m),{class:"font-medium text-yellow-600 dark:text-yellow-500 hover:underline",href:g.route("users.edit",c.id)},{default:a(()=>[qe]),_:2},1032,["href"])])])}),128))]),footer:a(()=>[n(Me,{links:t.data.links,next:t.data.next_page_url,prev:t.data.prev_page_url},null,8,["links","next","prev"])]),_:1},8,["checkboxState"])])])]),n(G,{show:_.value,onClose:b},{title:a(()=>[Ge]),content:a(()=>[d(" Are you sure you want to delete the selected accounts? Once the accounts are deleted, all of their resources and data will be permanently deleted. You selected "+h(l.value.length)+" accounts. ",1)]),footer:a(()=>[n(D,{onClick:b},{default:a(()=>[He]),_:1}),n(q,{class:"ml-3",onClick:L},{default:a(()=>[Qe]),_:1})]),_:1},8,["show"])]),_:1}))}};export{lt as default};
