import{d as U,u as z,o as u,c as S,w as i,a as t,b as l,g as s,v,K as b,e as c,h as f,t as V,F as y,f as j,n as k,i as g}from"./app.f171c1d5.js";import{_ as h}from"./ActionMessage.c6a10b3d.js";import{_ as C}from"./Button.bf50e133.js";import{_ as N}from"./FormSection.602b1a1b.js";import{_ as m}from"./Input.158cae6f.js";import{_ as n}from"./InputError.fed075b3.js";import{_ as p}from"./Checkbox.5cd9ad82.js";import{_ as r}from"./Label.8ab97e0c.js";import"./SectionTitle.24ac6694.js";import"./_plugin-vue_export-helper.cdc0426e.js";const $=g(" Create new Service Order "),q=g(" Add new service order for your customer. "),P={class:"col-span-6 sm:col-span-4"},B=t("p",{class:"text-xs mt-1 text-gray-500"},"will be generated automatically if empty.",-1),F={class:"col-span-6 sm:col-span-4"},O=["value"],A={class:"col-span-6 sm:col-span-4"},D={class:"col-span-6 sm:col-span-4"},I={class:"col-span-6 sm:col-span-4"},M={class:"col-span-6 sm:col-span-4"},R={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6 sm:col-span-4"},H={class:"flex items-center"},J=t("span",{class:"ml-2 text-sm text-gray-600"},"Warranty?",-1),L={key:0,class:"col-span-6 sm:col-span-4"},T={class:"col-span-6 sm:col-span-4"},W={class:"col-span-6 sm:col-span-4"},E={class:"col-span-6 sm:col-span-4"},K={class:"col-span-6 sm:col-span-4"},Q={class:"flex items-center"},X=t("span",{class:"ml-2 text-sm text-gray-600"},"New Customer?",-1),Y={key:1,class:"col-span-6 sm:col-span-4"},Z={key:2,class:"col-span-6 sm:col-span-4"},ee=["value"],se={class:"col-span-6 sm:col-span-4"},le={class:"col-span-6 sm:col-span-4"},oe={class:"col-span-6 sm:col-span-4"},ae={class:"col-span-6 sm:col-span-4"},te={class:"col-span-6 sm:col-span-4"},ne={class:"col-span-6 sm:col-span-4"},re={class:"col-span-6 sm:col-span-4"},me={class:"col-span-6 sm:col-span-4"},de={class:"col-span-6 sm:col-span-4"},ue={class:"col-span-6 sm:col-span-4"},ce={class:"col-span-6 sm:col-span-4"},ie={class:"col-span-6 sm:col-span-4"},pe={class:"col-span-6 sm:col-span-4"},_e={class:"col-span-6 sm:col-span-4"},ge={class:"col-span-6 sm:col-span-4"},ve={class:"col-span-6 sm:col-span-4"},be={class:"col-span-6 sm:col-span-4"},fe={class:"flex items-center"},Ve=t("span",{class:"ml-2 text-sm text-gray-600"},"Surplus Part Returned?",-1),ye={class:"col-span-6 sm:col-span-4"},ke={class:"flex items-center"},we=t("span",{class:"ml-2 text-sm text-gray-600"},"SIMS Completed?",-1),xe={class:"col-span-6 sm:col-span-4"},Ue={class:"col-span-6 sm:col-span-4"},ze={class:"col-span-6 sm:col-span-4"},Se={class:"col-span-6 sm:col-span-4"},je={class:"flex items-center"},he=t("span",{class:"ml-2 text-sm text-gray-600"},"Signed?",-1),Ce={class:"col-span-6 sm:col-span-4"},Ne={class:"flex items-center"},$e=t("span",{class:"ml-2 text-sm text-gray-600"},"Signed?",-1),qe=g(" Saved. "),Pe=g(" Save "),Le={__name:"CreateServiceOrderForm",setup(Be){const _=U(null),e=z({id:null,segment:null,operation:null,job_code:null,component_code:null,smu:null,warranty:!1,warranty_text:null,pip_psp:null,job_control:null,business_area:null,customer_name:null,service_team:null,group_number:null,customer_no:null,make:null,model:null,serial_number:null,arrg_no:null,std_hours:0,job_description:null,labor_hours:0,date_sent:null,date_required:null,date_returned:null,date_received_back:null,date_segment_closed:null,receive_by:null,surplus_part_returned:!1,sims_completed:!1,note:null,deliver_to:null,return_to:null,signed_1:!1,signed_2:!1,status:"todo",customer_id:null,supervisor_id:null,foreman_id:null,serviceman_id:null,new_customer:!1}),w=()=>{e.transform(d=>{var a;return{...d,customer_id:d.new_customer?null:(a=_.value)==null?void 0:a.id}}).post(route("service-orders.store"),{preserveScroll:!0,onSuccess:()=>e.reset()})},x=()=>{var d,a;e.customer_no=(d=_.value)==null?void 0:d.salary_number,e.customer_name=(a=_.value)==null?void 0:a.name};return(d,a)=>(u(),S(N,{onSubmitted:w},{title:i(()=>[$]),description:i(()=>[q]),form:i(()=>[t("div",P,[l(r,{for:"id",value:"Service Order Number"}),l(m,{id:"id",modelValue:s(e).id,"onUpdate:modelValue":a[0]||(a[0]=o=>s(e).id=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),B,l(n,{message:s(e).errors.id,class:"mt-2"},null,8,["message"])]),t("div",F,[l(r,{for:"foreman_id",value:"Foreman PIC*",class:"capitalize"}),v(t("select",{"onUpdate:modelValue":a[1]||(a[1]=o=>s(e).foreman_id=o),id:"foreman_id",class:"border-gray-300 mt-1 block w-full focus:border-yellow-300 focus:ring focus:ring-yellow-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(u(!0),c(y,null,f(d.$page.props.foremen,o=>(u(),c("option",{key:o.id,value:o.id},V(o.name+" - "+o.salary_number),9,O))),128))],512),[[b,s(e).foreman_id]]),l(n,{message:s(e).errors.foreman_id,class:"mt-2"},null,8,["message"])]),t("div",A,[l(r,{for:"segment",value:"Segment*"}),l(m,{id:"segment",modelValue:s(e).segment,"onUpdate:modelValue":a[2]||(a[2]=o=>s(e).segment=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.segment,class:"mt-2"},null,8,["message"])]),t("div",D,[l(r,{for:"operation",value:"operation",class:"capitalize"}),l(m,{id:"operation",modelValue:s(e).operation,"onUpdate:modelValue":a[3]||(a[3]=o=>s(e).operation=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.operation,class:"mt-2"},null,8,["message"])]),t("div",I,[l(r,{for:"job_code",value:"job code*",class:"capitalize"}),l(m,{id:"job_code",modelValue:s(e).job_code,"onUpdate:modelValue":a[4]||(a[4]=o=>s(e).job_code=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.job_code,class:"mt-2"},null,8,["message"])]),t("div",M,[l(r,{for:"component_code",value:"component code",class:"capitalize"}),l(m,{id:"component_code",modelValue:s(e).component_code,"onUpdate:modelValue":a[5]||(a[5]=o=>s(e).component_code=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.component_code,class:"mt-2"},null,8,["message"])]),t("div",R,[l(r,{for:"smu",value:"SMU",class:"capitalize"}),l(m,{id:"smu",modelValue:s(e).smu,"onUpdate:modelValue":a[6]||(a[6]=o=>s(e).smu=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.smu,class:"mt-2"},null,8,["message"])]),t("div",G,[t("label",H,[l(p,{checked:s(e).warranty,"onUpdate:checked":a[7]||(a[7]=o=>s(e).warranty=o),name:"warranty"},null,8,["checked"]),J]),l(n,{message:s(e).errors.warranty,class:"mt-2"},null,8,["message"])]),s(e).warranty?(u(),c("div",L,[l(r,{for:"warranty_text",value:"Warranty"}),l(m,{id:"warranty_text",modelValue:s(e).warranty_text,"onUpdate:modelValue":a[8]||(a[8]=o=>s(e).warranty_text=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.warranty_text,class:"mt-2"},null,8,["message"])])):j("",!0),t("div",T,[l(r,{for:"pip_psp",value:"PIP/PSP",class:"capitalize"}),l(m,{id:"pip_psp",modelValue:s(e).pip_psp,"onUpdate:modelValue":a[9]||(a[9]=o=>s(e).pip_psp=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.pip_psp,class:"mt-2"},null,8,["message"])]),t("div",W,[l(r,{for:"job_control",value:"Job Control",class:"capitalize"}),l(m,{id:"job_control",modelValue:s(e).job_control,"onUpdate:modelValue":a[10]||(a[10]=o=>s(e).job_control=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.job_control,class:"mt-2"},null,8,["message"])]),t("div",E,[l(r,{for:"business_area",value:"Business Area",class:"capitalize"}),l(m,{id:"business_area",modelValue:s(e).business_area,"onUpdate:modelValue":a[11]||(a[11]=o=>s(e).business_area=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.business_area,class:"mt-2"},null,8,["message"])]),t("div",K,[t("label",Q,[l(p,{checked:s(e).new_customer,"onUpdate:checked":a[12]||(a[12]=o=>s(e).new_customer=o)},null,8,["checked"]),X])]),s(e).new_customer?(u(),c("div",Y,[l(r,{for:"customer_no",value:"Customer No*"}),l(m,{id:"customer_no",modelValue:s(e).customer_no,"onUpdate:modelValue":a[13]||(a[13]=o=>s(e).customer_no=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.customer_no,class:"mt-2"},null,8,["message"])])):(u(),c("div",Z,[l(r,{for:"customer_no",value:"Customer No*",class:"capitalize"}),v(t("select",{"onUpdate:modelValue":a[14]||(a[14]=o=>_.value=o),onChange:x,id:"customer_no",class:"border-gray-300 mt-1 block w-full focus:border-yellow-300 focus:ring focus:ring-yellow-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(u(!0),c(y,null,f(d.$page.props.customers,o=>(u(),c("option",{key:o.id,value:o},V(o.name+" - "+o.salary_number),9,ee))),128))],544),[[b,_.value]]),l(n,{message:s(e).errors.customer_no,class:"mt-2"},null,8,["message"])])),t("div",se,[l(r,{for:"customer_name",value:"Customer Name*",class:"capitalize"}),l(m,{id:"customer_name",modelValue:s(e).customer_name,"onUpdate:modelValue":a[15]||(a[15]=o=>s(e).customer_name=o),type:"text",readonly:!s(e).new_customer,class:k([{"bg-gray-100":!s(e).new_customer},"mt-1 block w-full"])},null,8,["modelValue","readonly","class"]),l(n,{message:s(e).errors.customer_name,class:"mt-2"},null,8,["message"])]),t("div",le,[l(r,{for:"service_team",value:"Service Team*",class:"capitalize"}),l(m,{id:"service_team",modelValue:s(e).service_team,"onUpdate:modelValue":a[16]||(a[16]=o=>s(e).service_team=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.service_team,class:"mt-2"},null,8,["message"])]),t("div",oe,[l(r,{for:"group_number",value:"Group Number",class:"capitalize"}),l(m,{id:"group_number",modelValue:s(e).group_number,"onUpdate:modelValue":a[17]||(a[17]=o=>s(e).group_number=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.group_number,class:"mt-2"},null,8,["message"])]),t("div",ae,[l(r,{for:"make",value:"make",class:"capitalize"}),l(m,{id:"make",modelValue:s(e).make,"onUpdate:modelValue":a[18]||(a[18]=o=>s(e).make=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.make,class:"mt-2"},null,8,["message"])]),t("div",te,[l(r,{for:"model",value:"model",class:"capitalize"}),l(m,{id:"model",modelValue:s(e).model,"onUpdate:modelValue":a[19]||(a[19]=o=>s(e).model=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.model,class:"mt-2"},null,8,["message"])]),t("div",ne,[l(r,{for:"serial_number",value:"serial number",class:"capitalize"}),l(m,{id:"serial_number",modelValue:s(e).serial_number,"onUpdate:modelValue":a[20]||(a[20]=o=>s(e).serial_number=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.serial_number,class:"mt-2"},null,8,["message"])]),t("div",re,[l(r,{for:"arrg_no",value:"ARRG. No",class:"capitalize"}),l(m,{id:"arrg_no",modelValue:s(e).arrg_no,"onUpdate:modelValue":a[21]||(a[21]=o=>s(e).arrg_no=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.arrg_no,class:"mt-2"},null,8,["message"])]),t("div",me,[l(r,{for:"std_hours",value:"Std. Hours",class:"capitalize"}),l(m,{id:"std_hours",modelValue:s(e).std_hours,"onUpdate:modelValue":a[22]||(a[22]=o=>s(e).std_hours=o),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.std_hours,class:"mt-2"},null,8,["message"])]),t("div",de,[l(r,{for:"job_description",value:"Job Description*",class:"capitalize"}),l(m,{id:"job_description",modelValue:s(e).job_description,"onUpdate:modelValue":a[23]||(a[23]=o=>s(e).job_description=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.job_description,class:"mt-2"},null,8,["message"])]),t("div",ue,[l(r,{for:"labor_hours",value:"Labor Hours",class:"capitalize"}),l(m,{id:"labor_hours",modelValue:s(e).labor_hours,"onUpdate:modelValue":a[24]||(a[24]=o=>s(e).labor_hours=o),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.labor_hours,class:"mt-2"},null,8,["message"])]),t("div",ce,[l(r,{for:"date_sent",value:"date sent",class:"capitalize"}),l(m,{id:"date_sent",modelValue:s(e).date_sent,"onUpdate:modelValue":a[25]||(a[25]=o=>s(e).date_sent=o),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.date_sent,class:"mt-2"},null,8,["message"])]),t("div",ie,[l(r,{for:"date_required",value:"date required",class:"capitalize"}),l(m,{id:"date_required",modelValue:s(e).date_required,"onUpdate:modelValue":a[26]||(a[26]=o=>s(e).date_required=o),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.date_required,class:"mt-2"},null,8,["message"])]),t("div",pe,[l(r,{for:"date_returned",value:"date returned",class:"capitalize"}),l(m,{id:"date_returned",modelValue:s(e).date_returned,"onUpdate:modelValue":a[27]||(a[27]=o=>s(e).date_returned=o),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.date_returned,class:"mt-2"},null,8,["message"])]),t("div",_e,[l(r,{for:"date_received_back",value:"date received back",class:"capitalize"}),l(m,{id:"date_received_back",modelValue:s(e).date_received_back,"onUpdate:modelValue":a[28]||(a[28]=o=>s(e).date_received_back=o),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.date_received_back,class:"mt-2"},null,8,["message"])]),t("div",ge,[l(r,{for:"date_segment_closed",value:"date segment closed",class:"capitalize"}),l(m,{id:"date_segment_closed",modelValue:s(e).date_segment_closed,"onUpdate:modelValue":a[29]||(a[29]=o=>s(e).date_segment_closed=o),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.date_segment_closed,class:"mt-2"},null,8,["message"])]),t("div",ve,[l(r,{for:"receive_by",value:"receive by",class:"capitalize"}),l(m,{id:"receive_by",modelValue:s(e).receive_by,"onUpdate:modelValue":a[30]||(a[30]=o=>s(e).receive_by=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.receive_by,class:"mt-2"},null,8,["message"])]),t("div",be,[t("label",fe,[l(p,{checked:s(e).surplus_part_returned,"onUpdate:checked":a[31]||(a[31]=o=>s(e).surplus_part_returned=o),name:"surplus_part_returned"},null,8,["checked"]),Ve]),l(n,{message:s(e).errors.surplus_part_returned,class:"mt-2"},null,8,["message"])]),t("div",ye,[t("label",ke,[l(p,{checked:s(e).sims_completed,"onUpdate:checked":a[32]||(a[32]=o=>s(e).sims_completed=o),name:"sims_completed"},null,8,["checked"]),we]),l(n,{message:s(e).errors.sims_completed,class:"mt-2"},null,8,["message"])]),t("div",xe,[l(r,{for:"note",value:"note",class:"capitalize"}),l(m,{id:"note",modelValue:s(e).note,"onUpdate:modelValue":a[33]||(a[33]=o=>s(e).note=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.note,class:"mt-2"},null,8,["message"])]),t("div",Ue,[l(r,{for:"deliver_to",value:"deliver to",class:"capitalize"}),l(m,{id:"deliver_to",modelValue:s(e).deliver_to,"onUpdate:modelValue":a[34]||(a[34]=o=>s(e).deliver_to=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.deliver_to,class:"mt-2"},null,8,["message"])]),t("div",ze,[l(r,{for:"return_to",value:"return to",class:"capitalize"}),l(m,{id:"return_to",modelValue:s(e).return_to,"onUpdate:modelValue":a[35]||(a[35]=o=>s(e).return_to=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),l(n,{message:s(e).errors.return_to,class:"mt-2"},null,8,["message"])]),t("div",Se,[t("label",je,[l(p,{checked:s(e).signed_1,"onUpdate:checked":a[36]||(a[36]=o=>s(e).signed_1=o),name:"signed_1"},null,8,["checked"]),he]),l(n,{message:s(e).errors.signed_1,class:"mt-2"},null,8,["message"])]),t("div",Ce,[t("label",Ne,[l(p,{checked:s(e).signed_2,"onUpdate:checked":a[37]||(a[37]=o=>s(e).signed_2=o),name:"signed_2"},null,8,["checked"]),$e]),l(n,{message:s(e).errors.signed_2,class:"mt-2"},null,8,["message"])])]),actions:i(()=>[l(h,{on:s(e).recentlySuccessful,class:"mr-3"},{default:i(()=>[qe]),_:1},8,["on"]),l(C,{class:k({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:i(()=>[Pe]),_:1},8,["class","disabled"])]),_:1}))}};export{Le as default};
