import{d as w,j as I,o as r,c as L,w as t,b as o,a,e as c,g as m,L as $,f as u,h as Y,v as E,B as F,i as l,t as d,F as O,y as S}from"./app.3552a682.js";import{_ as T}from"./AppLayout.5bf918e8.js";import{_ as z}from"./Breadcrumb.a4ce8470.js";import{_ as P}from"./Button.f17634a2.js";import{_ as C}from"./SecondaryButton.a7a553b9.js";import{_ as R}from"./DangerButton.14914416.js";import{_ as q,a as G,b as H}from"./Pagination.11e01a24.js";import{a as J}from"./DialogModal.f5e76d37.js";import"./_plugin-vue_export-helper.cdc0426e.js";const K=a("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," User Management ",-1),Q={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Z={class:"flex items-center justify-between"},ee={key:0,class:"flex flex-row space-x-2"},te=l("Create"),se=l("Delete"),ae={key:0,class:"w-4 p-4"},oe={class:"flex items-center"},re=["id","value"],le=["for"],ne={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},ce={key:0,class:"text-gray-400"},de=["textContent"],ie={class:"px-6 py-4 capitalize"},ue={class:"px-6 py-4"},pe={class:"px-6 py-4 font-medium text-gray-900 dark:text-white"},he={key:0,class:"text-gray-400"},_e=["textContent"],me={key:1,class:"px-6 py-4 text-right"},fe=l(" Edit "),ge=l(" Delete Account "),xe=l(" Cancel "),ye=l(" Delete Accounts "),Ne={__name:"Index",props:{data:Object,search:String},setup(i){const f=i,n=w([]),D=I(()=>n.value.length==f.data.data.length),g=()=>n.value.length=0,M=s=>{s?n.value=f.data.data.map(p=>p.id):g()},h=w(!1),N=()=>h.value=!0,_=()=>h.value=!1,A=["Name","Role","Phone","Direct Superior"],B=[{label:"User Management",url:null}],V=s=>{S.Inertia.get(route("users.index"),{search:s},{preserveState:!0,preserveScroll:!0})},U=()=>{S.Inertia.delete(route("users.destroy-bulk",n.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_(),g()}})};return(s,p)=>(r(),L(T,{title:"User Management"},{header:t(()=>[K,o(z,{links:B})]),default:t(()=>[a("div",Q,[a("div",W,[a("div",X,[o(H,{columns:A,checkbox:["superadmin","supervisor"].includes(s.$page.props.user.role),action:["superadmin","supervisor"].includes(s.$page.props.user.role),onSelectAllToggle:M,checkboxState:m(D)},{header:t(()=>[a("div",Z,[o(q,{placeholder:"Name or Salary Number",search:i.search,onSearch:V},null,8,["search"]),["superadmin","supervisor"].includes(s.$page.props.user.role)?(r(),c("div",ee,[o(m($),{href:s.route("users.create")},{default:t(()=>[o(P,null,{default:t(()=>[te]),_:1})]),_:1},8,["href"]),o(C,{disabled:n.value.length==0,onClick:N},{default:t(()=>[se]),_:1},8,["disabled"])])):u("",!0)])]),tbody:t(()=>[(r(!0),c(O,null,Y(i.data.data,e=>{var x,y,b,k,v;return r(),c("tr",{key:e,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[["superadmin","supervisor"].includes(s.$page.props.user.role)?(r(),c("td",ae,[a("div",oe,[E(a("input",{id:`checkbox-table-${e.id}`,value:e.id,"onUpdate:modelValue":p[0]||(p[0]=j=>n.value=j),type:"checkbox",class:"w-4 h-4 text-yellow-600 bg-gray-100 border-gray-300 rounded focus:ring-yellow-500 dark:focus:ring-yellow-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,re),[[F,n.value]]),a("label",{for:`checkbox-table-${e.id}`,class:"sr-only"},"checkbox",8,le)])])):u("",!0),a("th",ne,[l(d(e.name)+" ",1),e.id==s.$page.props.user.id?(r(),c("span",ce,"(You)")):u("",!0),a("span",{class:"text-xs block text-gray-500",textContent:d(e.salary_number)},null,8,de)]),a("td",ie,d(e.role.replace("_"," ")),1),a("td",ue,d((x=e.phone)!=null?x:"-"),1),a("td",pe,[l(d((b=(y=e.superior)==null?void 0:y.name)!=null?b:"-")+" ",1),((k=e.superior)==null?void 0:k.id)==s.$page.props.user.id?(r(),c("span",he,"(You)")):u("",!0),e.superior?(r(),c("span",{key:1,class:"text-xs block text-gray-500",textContent:d((v=e.superior)==null?void 0:v.salary_number)},null,8,_e)):u("",!0)]),["superadmin","supervisor"].includes(s.$page.props.user.role)?(r(),c("td",me,[o(m($),{class:"font-medium text-yellow-600 dark:text-yellow-500 hover:underline",href:s.route("users.edit",e.id)},{default:t(()=>[fe]),_:2},1032,["href"])])):u("",!0)])}),128))]),footer:t(()=>[o(G,{links:i.data.links,next:i.data.next_page_url,prev:i.data.prev_page_url},null,8,["links","next","prev"])]),_:1},8,["checkbox","action","checkboxState"])])])]),o(J,{show:h.value,onClose:_},{title:t(()=>[ge]),content:t(()=>[l(" Are you sure you want to delete the selected accounts? Once the accounts are deleted, all of their resources and data will be permanently deleted. You selected "+d(n.value.length)+" accounts. ",1)]),footer:t(()=>[o(C,{onClick:_},{default:t(()=>[xe]),_:1}),o(R,{class:"ml-3",onClick:U},{default:t(()=>[ye]),_:1})]),_:1},8,["show"])]),_:1}))}};export{Ne as default};
