import{d as x,j,o as d,c as E,w as e,b as o,a as t,e as i,g as p,L as k,f as _,h as I,v as L,B as F,t as n,F as O,i as l,y as w}from"./app.3132a195.js";import{_ as T}from"./AppLayout.c1aa1228.js";import{_ as P}from"./Breadcrumb.7d97b7e0.js";import{_ as U}from"./Button.914d69d4.js";import{_ as $}from"./SecondaryButton.672a0479.js";import{_ as Y}from"./DangerButton.f7ca450e.js";import{_ as q,a as z,b as G}from"./Pagination.7e92034f.js";import{a as H}from"./DialogModal.6a25e617.js";import"./_plugin-vue_export-helper.cdc0426e.js";const J=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Customer ",-1),K={class:"py-12"},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},R={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},W={class:"flex items-center justify-between"},X={key:0,class:"flex flex-row space-x-2"},Z=l("Create"),ee=l("Delete"),te={key:0,class:"w-4 p-4"},se={class:"flex items-center"},oe=["id","value"],ae=["for"],re={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap"},le={class:"px-6 py-4"},ce={class:"px-6 py-4"},de={class:"px-6 py-4"},ne={class:"px-6 py-4"},ie={key:1,class:"px-6 py-4 text-right"},ue=l(" Edit "),he=l(" Delete Account "),me=l(" Cancel "),pe=l(" Delete Accounts "),$e={__name:"Index",props:{data:Object,search:String},setup(c){const f=c,r=x([]),S=j(()=>r.value.length==f.data.data.length),g=()=>r.value.length=0,C=s=>{s?r.value=f.data.data.map(u=>u.id):g()},h=x(!1),D=()=>h.value=!0,m=()=>h.value=!1,N=["Customer No","Customer Name","Phone","Email","Address"],A=[{label:"Customer",url:null}],B=s=>{w.Inertia.get(route("customers.index"),{search:s},{preserveState:!0,preserveScroll:!0})},V=()=>{w.Inertia.delete(route("customers.destroy-bulk",r.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{m(),g()}})};return(s,u)=>(d(),E(T,{title:"Customer"},{header:e(()=>[J,o(P,{links:A})]),default:e(()=>[t("div",K,[t("div",Q,[t("div",R,[o(G,{columns:N,checkbox:["superadmin","supervisor"].includes(s.$page.props.user.role),action:["superadmin","supervisor"].includes(s.$page.props.user.role),onSelectAllToggle:C,checkboxState:p(S)},{header:e(()=>[t("div",W,[o(q,{placeholder:"Number or Name",search:c.search,onSearch:B},null,8,["search"]),["superadmin","supervisor"].includes(s.$page.props.user.role)?(d(),i("div",X,[o(p(k),{href:s.route("customers.create")},{default:e(()=>[o(U,null,{default:e(()=>[Z]),_:1})]),_:1},8,["href"]),o($,{disabled:r.value.length==0,onClick:D},{default:e(()=>[ee]),_:1},8,["disabled"])])):_("",!0)])]),tbody:e(()=>[(d(!0),i(O,null,I(c.data.data,a=>{var b,v,y;return d(),i("tr",{key:a,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[["superadmin","supervisor"].includes(s.$page.props.user.role)?(d(),i("td",te,[t("div",se,[L(t("input",{id:`checkbox-table-${a.id}`,value:a.id,"onUpdate:modelValue":u[0]||(u[0]=M=>r.value=M),type:"checkbox",class:"w-4 h-4 text-yellow-600 bg-gray-100 border-gray-300 rounded focus:ring-yellow-500 dark:focus:ring-yellow-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,oe),[[F,r.value]]),t("label",{for:`checkbox-table-${a.id}`,class:"sr-only"},"checkbox",8,ae)])])):_("",!0),t("th",re,n(a.salary_number),1),t("td",le,n(a.name),1),t("td",ce,n((b=a.phone)!=null?b:"-"),1),t("td",de,n((v=a.email)!=null?v:"-"),1),t("td",ne,n((y=a.address)!=null?y:"-"),1),["superadmin","supervisor"].includes(s.$page.props.user.role)?(d(),i("td",ie,[o(p(k),{class:"font-medium text-yellow-600 dark:text-yellow-500 hover:underline",href:s.route("customers.edit",a.id)},{default:e(()=>[ue]),_:2},1032,["href"])])):_("",!0)])}),128))]),footer:e(()=>[o(z,{links:c.data.links,next:c.data.next_page_url,prev:c.data.prev_page_url},null,8,["links","next","prev"])]),_:1},8,["checkbox","action","checkboxState"])])])]),o(H,{show:h.value,onClose:m},{title:e(()=>[he]),content:e(()=>[l(" Are you sure you want to delete the selected accounts? Once the accounts are deleted, all of their resources and data will be permanently deleted. You selected "+n(r.value.length)+" accounts. ",1)]),footer:e(()=>[o($,{onClick:m},{default:e(()=>[me]),_:1}),o(Y,{class:"ml-3",onClick:V},{default:e(()=>[pe]),_:1})]),_:1},8,["show"])]),_:1}))}};export{$e as default};
